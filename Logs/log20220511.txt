22-05-11 09:24:51 [Information] Application is starting
22-05-11 09:25:08 [Information] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
22-05-11 09:25:11 [Information] Application started. Press Ctrl+C to shut down.
22-05-11 09:25:11 [Information] Hosting environment: Development
22-05-11 09:25:11 [Information] Content root path: C:\Users\USER\Documents\Projects\asp.neter\HotelListing
22-05-11 09:25:12 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/index.html - -
22-05-11 09:25:14 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/index.html - - - 200 - text/html;charset=utf-8 2377.5443ms
22-05-11 09:25:14 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/swagger-ui.css - -
22-05-11 09:25:14 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/swagger-ui-bundle.js - -
22-05-11 09:25:14 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/swagger-ui-standalone-preset.js - -
22-05-11 09:25:14 [Information] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
22-05-11 09:25:14 [Information] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
22-05-11 09:25:14 [Information] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
22-05-11 09:25:14 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/swagger-ui.css - - - 200 143943 text/css 116.8099ms
22-05-11 09:25:14 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 88.6686ms
22-05-11 09:25:14 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/swagger-ui-bundle.js - - - 200 1095087 application/javascript 194.4926ms
22-05-11 09:25:14 [Information] Request starting HTTP/2 GET https://localhost:44342/_framework/aspnetcore-browser-refresh.js - -
22-05-11 09:25:14 [Information] Request finished HTTP/2 GET https://localhost:44342/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 6.2725ms
22-05-11 09:25:17 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/v1/swagger.json - -
22-05-11 09:25:17 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 307.8754ms
22-05-11 09:27:03 [Information] Application is starting
22-05-11 09:27:08 [Information] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
22-05-11 09:27:09 [Information] Application started. Press Ctrl+C to shut down.
22-05-11 09:27:09 [Information] Hosting environment: Development
22-05-11 09:27:09 [Information] Content root path: C:\Users\USER\Documents\Projects\asp.neter\HotelListing
22-05-11 09:27:09 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger - -
22-05-11 09:27:09 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/index.html - -
22-05-11 09:27:09 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger - - - 301 - - 337.0350ms
22-05-11 09:27:10 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/index.html - - - 200 - text/html;charset=utf-8 746.1667ms
22-05-11 09:27:10 [Information] Request starting HTTP/2 GET https://localhost:44342/_framework/aspnetcore-browser-refresh.js - -
22-05-11 09:27:10 [Information] Request finished HTTP/2 GET https://localhost:44342/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 66.8553ms
22-05-11 09:27:11 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/v1/swagger.json - -
22-05-11 09:27:12 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 415.3322ms
22-05-11 10:24:20 [Information] Request starting HTTP/2 POST https://localhost:44342/api/Auth/register application/json-patch+json 161
22-05-11 10:24:20 [Information] CORS policy execution successful.
22-05-11 10:24:20 [Information] Executing endpoint 'HotelListing.Controllers.AuthController.Register (HotelListing)'
22-05-11 10:24:20 [Information] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.Dtos.UserDto) on controller HotelListing.Controllers.AuthController (HotelListing).
22-05-11 10:24:22 [Information] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
22-05-11 10:24:23 [Information] Executed action HotelListing.Controllers.AuthController.Register (HotelListing) in 2308.0876ms
22-05-11 10:24:23 [Information] Executed endpoint 'HotelListing.Controllers.AuthController.Register (HotelListing)'
22-05-11 10:24:23 [Information] Request finished HTTP/2 POST https://localhost:44342/api/Auth/register application/json-patch+json 161 - 400 271 application/problem+json;+charset=utf-8 2666.3769ms
22-05-11 10:25:35 [Information] Application is starting
22-05-11 10:25:40 [Information] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
22-05-11 10:25:41 [Information] Application started. Press Ctrl+C to shut down.
22-05-11 10:25:41 [Information] Hosting environment: Development
22-05-11 10:25:41 [Information] Content root path: C:\Users\USER\Documents\Projects\asp.neter\HotelListing
22-05-11 10:25:42 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/index.html - -
22-05-11 10:25:43 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/index.html - - - 200 - text/html;charset=utf-8 1152.8144ms
22-05-11 10:25:43 [Information] Request starting HTTP/2 GET https://localhost:44342/_framework/aspnetcore-browser-refresh.js - -
22-05-11 10:25:43 [Information] Request finished HTTP/2 GET https://localhost:44342/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 11.0183ms
22-05-11 10:25:44 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/v1/swagger.json - -
22-05-11 10:25:44 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 302.1521ms
22-05-11 10:26:03 [Information] Request starting HTTP/2 POST https://localhost:44342/api/Auth/register application/json-patch+json 162
22-05-11 10:26:03 [Information] CORS policy execution successful.
22-05-11 10:26:03 [Information] Executing endpoint 'HotelListing.Controllers.AuthController.Register (HotelListing)'
22-05-11 10:26:03 [Information] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.Dtos.UserDto) on controller HotelListing.Controllers.AuthController (HotelListing).
22-05-11 10:26:42 [Information] Registration Attempt for user@example.com
22-05-11 10:29:22 [Warning] User password validation failed: PasswordRequiresNonAlphanumeric;PasswordRequiresDigit;PasswordRequiresUpper.
22-05-11 10:34:32 [Information] Application is starting
22-05-11 10:34:38 [Information] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
22-05-11 10:34:39 [Information] Application started. Press Ctrl+C to shut down.
22-05-11 10:34:39 [Information] Hosting environment: Development
22-05-11 10:34:39 [Information] Content root path: C:\Users\USER\Documents\Projects\asp.neter\HotelListing
22-05-11 10:34:39 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/index.html - -
22-05-11 10:34:40 [Information] Request starting HTTP/2 GET https://localhost:44342/_framework/aspnetcore-browser-refresh.js - -
22-05-11 10:34:40 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/index.html - - - 200 - text/html;charset=utf-8 879.3322ms
22-05-11 10:34:40 [Information] Request finished HTTP/2 GET https://localhost:44342/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 34.1301ms
22-05-11 10:34:41 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/v1/swagger.json - -
22-05-11 10:34:41 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 576.1873ms
22-05-11 10:35:09 [Information] Request starting HTTP/2 POST https://localhost:44342/api/Auth/register application/json-patch+json 165
22-05-11 10:35:09 [Information] CORS policy execution successful.
22-05-11 10:35:10 [Information] Executing endpoint 'HotelListing.Controllers.AuthController.Register (HotelListing)'
22-05-11 10:35:10 [Information] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.Dtos.UserDto) on controller HotelListing.Controllers.AuthController (HotelListing).
22-05-11 10:35:29 [Information] Registration Attempt for user@example.com
22-05-11 10:37:14 [Warning] User password validation failed: PasswordRequiresNonAlphanumeric;PasswordRequiresDigit;PasswordRequiresUpper.
22-05-11 10:37:33 [Information] Entity Framework Core 5.0.16 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
22-05-11 10:37:36 [Information] Executed DbCommand (238ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
22-05-11 10:37:37 [Information] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
22-05-11 10:37:37 [Information] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
22-05-11 10:37:37 [Information] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Firstname], [a].[Lastname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
22-05-11 10:37:37 [Information] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Firstname], [a].[Lastname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
22-05-11 10:37:37 [Error] Failed executing DbCommand (62ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
22-05-11 10:37:38 [Error] An exception occurred in the database while saving changes for context type 'HotelListing.DbContexts.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUserRoles_AspNetUsers_UserId". The conflict occurred in database "hotellisting", table "dbo.AspNetUsers", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ff9b0f45-078e-45b5-9b60-623f430ad6c7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUserRoles_AspNetUsers_UserId". The conflict occurred in database "hotellisting", table "dbo.AspNetUsers", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ff9b0f45-078e-45b5-9b60-623f430ad6c7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
22-05-11 10:37:38 [Error] Something Went Wrong in the Register
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUserRoles_AspNetUsers_UserId". The conflict occurred in database "hotellisting", table "dbo.AspNetUsers", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ff9b0f45-078e-45b5-9b60-623f430ad6c7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.UpdateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.UpdateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.AddToRolesAsync(TUser user, IEnumerable`1 roles)
   at HotelListing.Controllers.AuthController.Register(UserDto userDto) in C:\Users\USER\Documents\Projects\asp.neter\HotelListing\Controllers\AuthController.cs:line 55
22-05-11 10:37:38 [Information] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
22-05-11 10:37:38 [Information] Executed action HotelListing.Controllers.AuthController.Register (HotelListing) in 148422.6539ms
22-05-11 10:37:38 [Information] Executed endpoint 'HotelListing.Controllers.AuthController.Register (HotelListing)'
22-05-11 10:37:39 [Information] Request finished HTTP/2 POST https://localhost:44342/api/Auth/register application/json-patch+json 165 - 500 248 application/problem+json;+charset=utf-8 149305.1291ms
22-05-11 10:37:55 [Information] Application is starting
22-05-11 10:38:00 [Information] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
22-05-11 10:38:02 [Information] Application started. Press Ctrl+C to shut down.
22-05-11 10:38:02 [Information] Hosting environment: Development
22-05-11 10:38:02 [Information] Content root path: C:\Users\USER\Documents\Projects\asp.neter\HotelListing
22-05-11 10:38:02 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/index.html - -
22-05-11 10:38:04 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/index.html - - - 200 - text/html;charset=utf-8 2027.9194ms
22-05-11 10:38:04 [Information] Request starting HTTP/2 GET https://localhost:44342/_framework/aspnetcore-browser-refresh.js - -
22-05-11 10:38:04 [Information] Request finished HTTP/2 GET https://localhost:44342/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 15.4060ms
22-05-11 10:38:06 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/v1/swagger.json - -
22-05-11 10:38:06 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 391.4978ms
22-05-11 10:38:15 [Information] Request starting HTTP/2 POST https://localhost:44342/api/Auth/register application/json-patch+json 166
22-05-11 10:38:15 [Information] CORS policy execution successful.
22-05-11 10:38:15 [Information] Executing endpoint 'HotelListing.Controllers.AuthController.Register (HotelListing)'
22-05-11 10:38:16 [Information] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.Dtos.UserDto) on controller HotelListing.Controllers.AuthController (HotelListing).
22-05-11 10:38:23 [Information] Registration Attempt for user@example.com
22-05-11 10:38:49 [Warning] User password validation failed: PasswordRequiresNonAlphanumeric;PasswordRequiresDigit;PasswordRequiresUpper.
22-05-11 10:44:52 [Information] Entity Framework Core 5.0.16 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
22-05-11 10:44:54 [Information] Executed DbCommand (214ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
22-05-11 10:44:54 [Information] Executed DbCommand (11ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
22-05-11 10:44:54 [Error] Something Went Wrong in the Register
System.InvalidOperationException: Role STRING does not exist.
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.AddToRoleAsync(TUser user, String normalizedRoleName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.AddToRolesAsync(TUser user, IEnumerable`1 roles)
   at HotelListing.Controllers.AuthController.Register(UserDto userDto) in C:\Users\USER\Documents\Projects\asp.neter\HotelListing\Controllers\AuthController.cs:line 55
22-05-11 10:44:55 [Information] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
22-05-11 10:44:55 [Information] Executed action HotelListing.Controllers.AuthController.Register (HotelListing) in 399254.5093ms
22-05-11 10:44:55 [Information] Executed endpoint 'HotelListing.Controllers.AuthController.Register (HotelListing)'
22-05-11 10:44:55 [Information] Request finished HTTP/2 POST https://localhost:44342/api/Auth/register application/json-patch+json 166 - 500 248 application/problem+json;+charset=utf-8 400046.1023ms
22-05-11 10:52:18 [Information] Application is starting
22-05-11 10:52:26 [Information] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
22-05-11 10:52:28 [Information] Application started. Press Ctrl+C to shut down.
22-05-11 10:52:28 [Information] Hosting environment: Development
22-05-11 10:52:28 [Information] Content root path: C:\Users\USER\Documents\Projects\asp.neter\HotelListing
22-05-11 10:52:28 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/index.html - -
22-05-11 10:52:29 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/index.html - - - 200 - text/html;charset=utf-8 1226.4839ms
22-05-11 10:52:29 [Information] Request starting HTTP/2 GET https://localhost:44342/_framework/aspnetcore-browser-refresh.js - -
22-05-11 10:52:29 [Information] Request finished HTTP/2 GET https://localhost:44342/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 50.9445ms
22-05-11 10:52:30 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/v1/swagger.json - -
22-05-11 10:52:30 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 608.2293ms
22-05-11 10:53:15 [Information] Request starting HTTP/2 POST https://localhost:44342/api/Auth/register application/json-patch+json 167
22-05-11 10:53:15 [Information] CORS policy execution successful.
22-05-11 10:53:15 [Information] Executing endpoint 'HotelListing.Controllers.AuthController.Register (HotelListing)'
22-05-11 10:53:15 [Information] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.Dtos.UserDto) on controller HotelListing.Controllers.AuthController (HotelListing).
22-05-11 10:53:29 [Information] Registration Attempt for user@example.com
22-05-11 10:53:46 [Warning] User password validation failed: PasswordRequiresUpper.
22-05-11 10:53:49 [Information] Entity Framework Core 5.0.16 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
22-05-11 10:53:52 [Information] Executed DbCommand (238ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
22-05-11 10:53:52 [Information] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
22-05-11 10:53:52 [Information] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
22-05-11 10:53:52 [Information] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Firstname], [a].[Lastname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
22-05-11 10:53:52 [Information] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Firstname], [a].[Lastname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
22-05-11 10:53:54 [Error] Failed executing DbCommand (56ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
22-05-11 10:53:54 [Error] An exception occurred in the database while saving changes for context type 'HotelListing.DbContexts.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUserRoles_AspNetUsers_UserId". The conflict occurred in database "hotellisting", table "dbo.AspNetUsers", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5e4bc254-43af-4188-a0b8-68331e3c32ac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUserRoles_AspNetUsers_UserId". The conflict occurred in database "hotellisting", table "dbo.AspNetUsers", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5e4bc254-43af-4188-a0b8-68331e3c32ac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
22-05-11 10:53:54 [Error] Something Went Wrong in the Register
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUserRoles_AspNetUsers_UserId". The conflict occurred in database "hotellisting", table "dbo.AspNetUsers", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5e4bc254-43af-4188-a0b8-68331e3c32ac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.UpdateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.UpdateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.AddToRolesAsync(TUser user, IEnumerable`1 roles)
   at HotelListing.Controllers.AuthController.Register(UserDto userDto) in C:\Users\USER\Documents\Projects\asp.neter\HotelListing\Controllers\AuthController.cs:line 55
22-05-11 10:53:55 [Information] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
22-05-11 10:53:55 [Information] Executed action HotelListing.Controllers.AuthController.Register (HotelListing) in 39530.1142ms
22-05-11 10:53:55 [Information] Executed endpoint 'HotelListing.Controllers.AuthController.Register (HotelListing)'
22-05-11 10:53:55 [Information] Request finished HTTP/2 POST https://localhost:44342/api/Auth/register application/json-patch+json 167 - 500 248 application/problem+json;+charset=utf-8 40378.7812ms
22-05-11 10:54:40 [Information] Application is starting
22-05-11 10:54:51 [Information] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
22-05-11 10:54:53 [Information] Application started. Press Ctrl+C to shut down.
22-05-11 10:54:53 [Information] Hosting environment: Development
22-05-11 10:54:53 [Information] Content root path: C:\Users\USER\Documents\Projects\asp.neter\HotelListing
22-05-11 10:54:53 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/index.html - -
22-05-11 10:54:55 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/index.html - - - 200 - text/html;charset=utf-8 1656.0186ms
22-05-11 10:54:55 [Information] Request starting HTTP/2 GET https://localhost:44342/_framework/aspnetcore-browser-refresh.js - -
22-05-11 10:54:55 [Information] Request finished HTTP/2 GET https://localhost:44342/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 412.8884ms
22-05-11 10:54:56 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/v1/swagger.json - -
22-05-11 10:54:56 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 759.5537ms
22-05-11 10:57:09 [Information] Application is starting
22-05-11 10:57:17 [Information] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
22-05-11 10:57:20 [Information] Application started. Press Ctrl+C to shut down.
22-05-11 10:57:20 [Information] Hosting environment: Development
22-05-11 10:57:20 [Information] Content root path: C:\Users\USER\Documents\Projects\asp.neter\HotelListing
22-05-11 10:57:20 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/index.html - -
22-05-11 10:57:22 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/index.html - - - 200 - text/html;charset=utf-8 2333.7042ms
22-05-11 10:57:22 [Information] Request starting HTTP/2 GET https://localhost:44342/_framework/aspnetcore-browser-refresh.js - -
22-05-11 10:57:23 [Information] Request finished HTTP/2 GET https://localhost:44342/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 759.2016ms
22-05-11 10:57:24 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/v1/swagger.json - -
22-05-11 10:57:25 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 1006.5228ms
22-05-11 10:58:51 [Information] Request starting HTTP/2 POST https://localhost:44342/api/Auth/register application/json-patch+json 168
22-05-11 10:58:51 [Information] CORS policy execution successful.
22-05-11 10:58:52 [Information] Executing endpoint 'HotelListing.Controllers.AuthController.Register (HotelListing)'
22-05-11 10:58:52 [Information] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.Dtos.UserDto) on controller HotelListing.Controllers.AuthController (HotelListing).
22-05-11 10:59:09 [Information] Registration Attempt for user@example.com
22-05-11 10:59:35 [Warning] User password validation failed: PasswordRequiresUpper.
22-05-11 10:59:57 [Information] Application is starting
22-05-11 11:00:03 [Information] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
22-05-11 11:00:04 [Information] Application started. Press Ctrl+C to shut down.
22-05-11 11:00:04 [Information] Hosting environment: Development
22-05-11 11:00:04 [Information] Content root path: C:\Users\USER\Documents\Projects\asp.neter\HotelListing
22-05-11 11:00:04 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/index.html - -
22-05-11 11:00:07 [Information] Request starting HTTP/2 GET https://localhost:44342/_framework/aspnetcore-browser-refresh.js - -
22-05-11 11:00:07 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/index.html - - - 200 - text/html;charset=utf-8 2158.8066ms
22-05-11 11:00:07 [Information] Request finished HTTP/2 GET https://localhost:44342/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 263.8510ms
22-05-11 11:00:08 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/v1/swagger.json - -
22-05-11 11:00:09 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 894.4303ms
22-05-11 11:01:54 [Information] Request starting HTTP/2 POST https://localhost:44342/api/Auth/register application/json-patch+json 167
22-05-11 11:01:54 [Information] CORS policy execution successful.
22-05-11 11:01:54 [Information] Executing endpoint 'HotelListing.Controllers.AuthController.Register (HotelListing)'
22-05-11 11:01:55 [Information] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.Dtos.UserDto) on controller HotelListing.Controllers.AuthController (HotelListing).
22-05-11 11:02:04 [Information] Registration Attempt for user@example.com
22-05-11 11:03:35 [Information] Application is starting
22-05-11 11:03:36 [Information] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
22-05-11 11:03:37 [Information] Application started. Press Ctrl+C to shut down.
22-05-11 11:03:37 [Information] Hosting environment: Development
22-05-11 11:03:37 [Information] Content root path: C:\Users\USER\Documents\Projects\asp.neter\HotelListing
22-05-11 11:03:37 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/index.html - -
22-05-11 11:03:38 [Information] Request starting HTTP/2 GET https://localhost:44342/_framework/aspnetcore-browser-refresh.js - -
22-05-11 11:03:38 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/index.html - - - 200 - text/html;charset=utf-8 635.5696ms
22-05-11 11:03:38 [Information] Request finished HTTP/2 GET https://localhost:44342/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 35.2876ms
22-05-11 11:03:38 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/v1/swagger.json - -
22-05-11 11:03:39 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 374.1296ms
22-05-11 11:04:05 [Information] Request starting HTTP/2 POST https://localhost:44342/api/Auth/register application/json-patch+json 170
22-05-11 11:04:05 [Information] CORS policy execution successful.
22-05-11 11:04:05 [Information] Executing endpoint 'HotelListing.Controllers.AuthController.Register (HotelListing)'
22-05-11 11:04:05 [Information] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.Dtos.UserDto) on controller HotelListing.Controllers.AuthController (HotelListing).
22-05-11 11:04:06 [Information] Registration Attempt for user@example.com
22-05-11 11:04:07 [Information] Entity Framework Core 5.0.16 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
22-05-11 11:04:08 [Information] Executed DbCommand (100ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Firstname], [a].[Lastname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
22-05-11 11:04:08 [Information] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Firstname], [a].[Lastname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
22-05-11 11:04:09 [Information] Executed DbCommand (67ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [Firstname], [Lastname], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
22-05-11 11:04:09 [Information] Executing AcceptedResult, writing value of type 'null'.
22-05-11 11:04:09 [Information] Executed action HotelListing.Controllers.AuthController.Register (HotelListing) in 4131.0864ms
22-05-11 11:04:09 [Information] Executed endpoint 'HotelListing.Controllers.AuthController.Register (HotelListing)'
22-05-11 11:04:09 [Information] Request finished HTTP/2 POST https://localhost:44342/api/Auth/register application/json-patch+json 170 - 202 0 - 4315.8891ms
22-05-11 11:27:19 [Information] Application is starting
22-05-11 11:27:21 [Information] User profile is available. Using 'C:\Users\USER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
22-05-11 11:27:21 [Information] Application started. Press Ctrl+C to shut down.
22-05-11 11:27:21 [Information] Hosting environment: Development
22-05-11 11:27:21 [Information] Content root path: C:\Users\USER\Documents\Projects\asp.neter\HotelListing
22-05-11 11:27:21 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/index.html - -
22-05-11 11:27:21 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/index.html - - - 200 - text/html;charset=utf-8 459.7552ms
22-05-11 11:27:21 [Information] Request starting HTTP/2 GET https://localhost:44342/_framework/aspnetcore-browser-refresh.js - -
22-05-11 11:27:21 [Information] Request finished HTTP/2 GET https://localhost:44342/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 11.5987ms
22-05-11 11:27:22 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/v1/swagger.json - -
22-05-11 11:27:22 [Information] Request starting HTTP/2 GET https://localhost:44342/swagger/favicon-32x32.png - -
22-05-11 11:27:22 [Information] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
22-05-11 11:27:22 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/favicon-32x32.png - - - 200 628 image/png 25.1824ms
22-05-11 11:27:23 [Information] Request finished HTTP/2 GET https://localhost:44342/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 207.4266ms
22-05-11 15:10:27 [Information] Application is starting
22-05-11 15:10:27 [Fatal] Application Failed to start
System.FormatException: Could not parse the JSON file.
 ---> System.Text.Json.JsonReaderException: '"' is invalid after a value. Expected either ',', '}', or ']'. LineNumber: 15 | BytePositionInLine: 2.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeNextTokenUntilAfterAllCommentsAreSkipped(Byte marker)
   at System.Text.Json.Utf8JsonReader.ConsumeNextToken(Byte marker)
   at System.Text.Json.Utf8JsonReader.ConsumeNextTokenOrRollback(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.JsonDocument.Parse(ReadOnlySpan`1 utf8JsonSpan, JsonReaderOptions readerOptions, MetadataDb& database, StackRowStack& stack)
   at System.Text.Json.JsonDocument.Parse(ReadOnlyMemory`1 utf8Json, JsonReaderOptions readerOptions, Byte[] extraRentedBytes)
   at System.Text.Json.JsonDocument.Parse(ReadOnlyMemory`1 json, JsonDocumentOptions options)
   at System.Text.Json.JsonDocument.Parse(String json, JsonDocumentOptions options)
   at Microsoft.Extensions.Configuration.Json.JsonConfigurationFileParser.ParseStream(Stream input)
   at Microsoft.Extensions.Configuration.Json.JsonConfigurationProvider.Load(Stream stream)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.Configuration.Json.JsonConfigurationProvider.Load(Stream stream)
   at Microsoft.Extensions.Configuration.FileConfigurationProvider.Load(Boolean reload)
--- End of stack trace from previous location ---
   at Microsoft.Extensions.Configuration.FileConfigurationProvider.HandleException(ExceptionDispatchInfo info)
   at Microsoft.Extensions.Configuration.FileConfigurationProvider.Load(Boolean reload)
   at Microsoft.Extensions.Configuration.FileConfigurationProvider.Load()
   at Microsoft.Extensions.Configuration.ConfigurationRoot..ctor(IList`1 providers)
   at Microsoft.Extensions.Configuration.ConfigurationBuilder.Build()
   at Microsoft.Extensions.Hosting.HostBuilder.BuildAppConfiguration()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at HotelListing.Program.Main(String[] args) in C:\Users\USER\Documents\Projects\asp.neter\HotelListing\Program.cs:line 28
